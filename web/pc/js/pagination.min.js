"use strict";var Pagination={showPageCount:7,init:function(a,s,n){this.bindListener(a,s,n)},createHtml:function(a,s,n){var t=Math.ceil(s/n),p=this.showPageCount,e=(p+1)/2,r=[];if(1e10<t&&(t=1e10),t-1<a&&(a=t-1),r.push('<span class="total">共'+s+"条</span>"),t<=p)for(var u=0;u<t;u++)a==u?r.push('<span class="current num">'+(u+1)+"</span>"):r.push('<span class="num"><a href="javascript:;"  page='+u+">"+(u+1)+"</a></span>");else if(a<e){for(u=0;u<p-1;u++)a==u?r.push('<span class="current num">'+(u+1)+"</span>"):r.push('<span class="num"><a href="javascript:;"  page='+u+">"+(u+1)+"</a></span>");r.push('<span class="dots">...</span>'),r.push('<span class="num"><a href="javascript:;"  page='+(t-1)+">"+t+"</a></span>")}else if(t-e-1<=a){r.push('<span class="num"><a href="javascript:;" page=\'0\'>1</a></span>'),r.push('<span class="dots">...</span>');for(u=t-p+1;u<t;u++)a==u?r.push('<span class="current num">'+(u+1)+"</span>"):r.push('<span class="num"><a href="javascript:;" page='+u+">"+(u+1)+"</a></span>")}else{r.push('<span class="num"><a href="javascript:;" page=0>1</a></span>'),r.push('<span class="dots">...</span>');for(u=a-e/2;u<=a+e/2;u++)a==u?r.push('<span class="current num">'+(u+1)+"</span>"):r.push('<span class="num"><a href="javascript:;" page='+u+">"+(u+1)+"</a></span>");r.push('<span class="dots">...</span>'),r.push('<span class="num"><a href="javascript:;" page ='+(t-1)+">"+t+"</a></span>")}return r.push('<span class="total total_page">共'+t+"页</span>"),r.push("<span class=\"page_jump\">到</span><input id='pageInput' class='pageInput' oldpage='' maxlength='"+t+"' type='text' ><span class=\"page_jump\">页</span><button type='button' id='pagebtn' class='pagebtn'>确定</button>"),r.join("")},bindListener:function(r,p,a){r.on("click","a",function(){if("function"==typeof p){var a=$(this).attr("page");p(parseInt(a))}return!1}),r.on("click","button",function(){var a=r.find("input");if("function"==typeof p){var s=a.val();if(""==s)return a.focus(),!1;p(parseInt(s)-1)}return!1}),r.on("keyup","input",function(a){switch(a.keyCode){case 37:case 38:case 39:case 40:break;case 13:!function(){var a=r.find("input"),s=a.val(),n=parseInt(r.find(".total_page").html().substring(1)),t=new RegExp("^[1-9]\\d{0,"+n.toString().length+"}$");if(""==s.trim())return a.focus();{if(!t.test(s))return a.val("").focus();if(s=parseInt(s),(n=parseInt(n))<s||s<0)return a.val("").focus()}p(parseInt(s)-1)}();break;case 8:case 46:$(a.target).attr("oldpage",$(a.target).val());break;default:!function(){var a=r.find("input"),s=r.find(".total_page").html(),n=parseInt(s.substring(1,s.length-1)),t=a.val(),p=a.attr("oldpage")||"";if(""==t.trim())return a.val("");if(!/^[0-9]+$/.test(t))return a.val(p);var e=parseInt(t);"0"==t.substr(0,1)&&a.val(e);if(0==e)return a.val("");if(e>parseInt(n))return a.val(t.substr(0,t.length-1));a.attr("oldpage",a.val())}()}return!1})},Page:function(a,s,n,t){a.empty(),a.html(this.createHtml(s,n,t))}};