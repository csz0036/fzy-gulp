"use strict";$(function(){$(".defaultText").on("click",function(){$("#selsectCompany").hide(),$(this).siblings("#scaleNumber").toggleClass("showUl")}),$("#scaleNumber").on("click","li",function(){$(this).parent().removeClass("showUl"),$(".defaultText").text($(this).text()).addClass("clickClass")}),$(".inputLab input").focus(function(){$(this).parents(".inputLab").find(".errorInfo").hide()}),$("#getYZM").on("click",function(){var e=$.trim($("#input_5").val());if(e){var t=59;$(this).hide(),$("#showTime").show().text(t);var i=setInterval(function(){t--,$("#showTime").text(t),t<1&&($("#getYZM").show(),$("#showTime").hide(),clearInterval(i))},1e3);$.ajax({url:apiUrl+"user/sms_code",type:"POST",dataType:"json",data:{phone:e},success:function(e){if(0==e.head.error){$("#universalTotl").show().find(".infoText").text("验证码已经发送，请查收");var t=setTimeout(function(){$("#universalTotl").hide(),clearTimeout(t)},2e3)}}})}else{$("#universalTotl").show().find(".infoText").text("请输入正确的手机号");var o=setTimeout(function(){$("#universalTotl").hide(),clearTimeout(o)},2e3)}}),$("#submitBut").on("click",function(){var e=$.trim($("#input_1").val()),t=$(".defaultText").text(),i=$.trim($("#input_4").val()),o=$.trim($("#input_2").val()),s=$.trim($("#input_5").val()),n=$.trim($("#input_6").val());if(!e)return $("#userName").show(),!1;if(!o)return $("#companyName").show(),!1;if("请选择企业规模"==t)return $("#selsectCompany").show(),!1;return/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(i)?/^1[3456789]\d{9}$/.test(s)?void $.ajax({url:apiUrl+"user/post_info",type:"POST",dataType:"json",data:{name:e,company_scale:t,company_email:i,company:o,phone:s,code:n,memo:$("#textareaId").val()},success:function(e){0===e.head.error?($("#successSubmit").show(),setTimeout(function(){$("#successSubmit").hide(),history.go(-1)},3e3),localStorage.setItem("postInfo","none")):($("#errorInfo").show(),$("#errorContent").text(e.head.message),setTimeout(function(){$("#errorInfo").hide()},3e3))}}):($("#phoneNumber").show(),!1):($("#companyMail").show(),!1)})});