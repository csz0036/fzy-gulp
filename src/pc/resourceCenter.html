<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name=keywords content=法智易,法智易合同管理系统,法务管理系统,智能合同系统,全生命周期合同系统,Saas合同系统,合同的风险防控>
    <meta name=description content=法智易，以合同管理为核心，用智能化的手段，保证合同管理过程的合规、高效，实现合同审批、履约监控、合同评价的全生命周期管理，未来会扩展到法律事务领域的一体化智能管理。>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>法智易-智能合同管理系统-慧点科技法务领域专业品牌</title>
    <link rel="stylesheet" href="./css/resourceCenter.min.css">
</head>

<body>
    <!--S header-->
    @@include('./head.html',{ "index": "active" })

    <!--E header-->

    <!--S content-->
    <div id="pageContent">
        <div class="pageBanner bannerBg2">
            <div class="bannerConten">
                <div class="bc_left bannerCentre_1 active">
                    <h3>公司新闻</h3>
                    <p class="bc_p">法智易合同管理产品是北京慧点科技在合同管理领域推出的专业产品，它专注服务企业法务部门，围绕企业合同管理，运用智能化技术，帮助企业促成交易，防控法律风险。</p>
                    <p class="but">
                        <a href="/applyLoding.html" target="_blank">预约演示<img src="./images/arrowRight-Blue.png"
                                width="20" height="20" alt=""></a>
                    </p>
                </div>
                <div class="bc_left bannerCentre_1">
                    <h3>专业分析</h3>
                    <p class="bc_p">法智易合同管理产品是北京慧点科技在合同管理领域推出的专业产品，它专注服务企业法务部门，围绕企业合同管理，运用智能化技术，帮助企业促成交易，防控法律风险。</p>
                    <p class="but">
                        <a href="/applyLoding.html" target="_blank">预约演示<img src="./images/arrowRight-Blue.png"
                                width="20" height="20" alt=""></a>
                    </p>
                </div>
                <div class="bc_left bannerCentre_1">
                    <h3>行业报告</h3>
                    <p class="bc_p">法智易合同管理产品是北京慧点科技在合同管理领域推出的专业产品，它专注服务企业法务部门，围绕企业合同管理，运用智能化技术，帮助企业促成交易，防控法律风险。</p>
                    <p class="but">
                        <a href="/applyLoding.html" target="_blank">预约演示<img src="./images/arrowRight-Blue.png"
                                width="20" height="20" alt=""></a>
                    </p>
                </div>
            </div>
        </div>

        <div class="width100 bg_f1 padCT">
            <div id="rcCentreNev">
                <ul>
                    <li class="active" name="#newPage">公司新闻</li>
                    <li name="#analyzePage">专业分析</li>
                    <li name="#reportPage">行业报告</li>
                </ul>
            </div>
            <div class="caseNewList">

                <!-- 公司新闻 start -->
                <div class="newList list_2 active" id="newPageList">
                    <ul>

                    </ul>
                    <div class="ht-page" id="newPage"></div>
                </div>
                <!-- 公司新闻 end -->

                <!-- 专业分析 start -->
                <div class="newList list_2" id="analyzePageList">
                    <ul>

                    </ul>
                    <div class="ht-page" id="analyzePage"></div>
                </div>
                <!-- 专业分析 end -->

                <!-- 行业报告 start -->
                <div class="newList list_2" id="reportPageList">
                    <ul>

                    </ul>
                    <div class="ht-page" id="reportPage"></div>
                </div>
                <!-- 行业报告 end -->

            </div>
        </div>


    </div>
    <!--E content-->

    <!--S footer-->
    @@include('./foot.html')

    <!--E footer-->


    <script src="./js/jquery-1.9.1.min.js"></script>
    <script src="./js/beas.min.js"></script>
    <script src="./js/pagination.min.js"></script>
    <script>
        $(function () {
            $(".but > span").hover(function () {
                $(this).find('img').stop().animate({
                    'margin-left': "18px"
                }, 300)
            }, function () {
                $(this).find('img').stop().animate({
                    'margin-left': "10px"
                }, 300)
            });

            // 根据URL 参数 触发
            let tabIdPage = GetQueryString("tabId") - 1 || 0;
            $("#rcCentreNev li").eq(tabIdPage).trigger("click");

            function getPagesData(pageNumber) {
                return new Promise(function (resolve, reject) {
                    //获取数据
                    let page = pageNumber * 1 || 1
                    $.ajax({
                        url: "http://172.16.5.59:5000/api/v1/news/list",
                        type: "get",
                        dataType: "json",
                        data: {
                            type: tabIdPage,
                            page: page,
                            pageSize: 9
                        },
                        success: function (obr) {
                            resolve(obr)
                        }
                    })



                })
            }

            function changeTabId(divId) {
                getPagesData(0).then(function (obr) {
                    console.log(obr.body.newsList);
                    let list = obr.body.newsList;
                    console.log('tabIdPage-----', tabIdPage, divId, list)

                    if (list.length < 1) return;
                    switch (tabIdPage) {
                        case 0:
                        case 1:
                            $.each(list, function (n, obj) {
                                $(divId + "List").find('ul').append(`<li>
                                <p class="img"><img src="${obj.head_url}" alt=""></p>
                                <p class="ct">${obj.title}</p>
                                <p class="downLoad">
                                    <span class="new">公司新闻</span>
                                    <span class="time">${obj.publish_time}</span>
                                </p>
                            </li>`)
                            });
                            break;
                        case 2:
                            $.each(list, function (n, obj) {
                                $(divId + "List").find('ul').append(`<li>
                                <p class="img"><img src="${obj.head_url}" alt=""></p>
                                <p class="ct">${obj.title}</p>
                                <p class="downLoad">
                                    <span class="dow"><a href="${obj.download_url}"
                                            download="下载文件">下载文件</a></span>
                                    <span class="time">${obj.publish_time}</span>
                                </p>
                            </li>`)
                            });
                            break;
                    }


                    /*
                     * 定义回掉函数
                     * @param number:跳转页
                     * */
                    function pageChange(i) {
                        Pagination.Page($(divId), i - 1, Math.ceil(obr.body.total / 9), 9);
                        getPagesData(i)
                    }

                    /*
                     * 初始化插件
                     * @param object:翻页容器对象
                     * @param function:回调函数
                     * */
                    Pagination.init($(".ht-page"), pageChange);

                    /*
                     * 首次调用
                     * @param object:翻页容器对象
                     * @param number:当前页
                     * @param number:总页数
                     * @param number:每页数据条数
                     * */

                    // Pagination.Page($(divId), 1, 100, 9);
                    Pagination.Page($(divId), 0, Math.ceil(obr.body.total / 9), 9);

                })
            }

            $("#rcCentreNev li").on('click', function () {
                $(this).addClass('active').siblings('li').removeClass('active');
                let ind = $(this).index();
                $(".bannerConten .bannerCentre_1").eq(ind).addClass('active').siblings(
                    '.bannerCentre_1').removeClass('active');
                $(".caseNewList .newList").eq(ind).addClass('active').siblings(
                    '.newList').removeClass('active');

                let divId = $(this).attr('name');
                tabIdPage = $(this).index()
                changeTabId(divId)
            })

            switch (tabIdPage) {
                case 0:
                    changeTabId("#newPage");
                    break;
                case 1:
                    changeTabId("#analyzePage");
                    break;
                case 2:
                    changeTabId("#reportPage");
                    break;
            }




            /*
             * 首次调用
             * @param object:翻页容器对象
             * @param number:当前页
             * @param number:总页数
             * @param number:每页数据条数
             * */
            // Pagination.Page($("#analyzePage"), 1, 10, 9);
            // Pagination.Page($("#reportPage"), 3, 100, 9);

        })
    </script>
</body>

</html>